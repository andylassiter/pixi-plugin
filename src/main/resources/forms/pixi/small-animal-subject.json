{
  "display": "form",
  "title": "Animal Subject",
  "components": [
    {
      "html": "<h4>Subject Details</h4>",
      "label": "Content",
      "refreshOnChange": false,
      "key": "content",
      "type": "content",
      "input": false,
      "tableView": false
    },
    {
      "label": "Columns",
      "columns": [
        {
          "components": [
            {
              "label": "Species",
              "widget": "choicesjs",
              "tableView": true,
              "data": {
                "values": [
                  {
                    "label": "Mouse",
                    "value": "Mus musculus"
                  },
                  {
                    "label": "Rat",
                    "value": "Rattus norvegicus"
                  }
                ]
              },
              "key": "xnat:subjectData/fields/field[name=species]/field",
              "type": "select",
              "input": true
            },
            {
              "label": "Sex",
              "widget": "choicesjs",
              "tableView": true,
              "data": {
                "values": [
                  {
                    "label": "Male",
                    "value": "male"
                  },
                  {
                    "label": "Female",
                    "value": "female"
                  }
                ]
              },
              "key": "xnat:subjectData/fields/field[name=sex]/field",
              "type": "select",
              "input": true
            },
            {
              "label": "Date of Birth",
              "format": "yyyy-MM-dd",
              "tableView": false,
              "enableMinDateInput": false,
              "datePicker": {
                "disableWeekends": false,
                "disableWeekdays": false
              },
              "enableMaxDateInput": false,
              "enableTime": false,
              "key": "xnat:subjectData/fields/field[name=dateofbirth]/field",
              "type": "datetime",
              "input": true,
              "widget": {
                "type": "calendar",
                "displayInTimezone": "viewer",
                "locale": "en",
                "useLocaleSettings": false,
                "allowInput": true,
                "mode": "single",
                "enableTime": false,
                "noCalendar": false,
                "format": "yyyy-MM-dd",
                "hourIncrement": 1,
                "minuteIncrement": 1,
                "time_24hr": false,
                "minDate": null,
                "disableWeekends": false,
                "disableWeekdays": false,
                "maxDate": null
              }
            }
          ],
          "width": 6,
          "offset": 0,
          "push": 0,
          "pull": 0,
          "size": "md",
          "currentWidth": 6
        },
        {
          "components": [
            {
              "label": "Strain",
              "tableView": true,
              "key": "xnat:subjectData/fields/field[name=strain]/field",
              "type": "textfield",
              "input": true
            },
            {
              "label": "Strain Source / Vendor",
              "widget": "choicesjs",
              "tableView": true,
              "data": {
                "values": [
                  {
                    "label": "Charles River Laboratories",
                    "value": "Charles River Laboratories"
                  },
                  {
                    "label": "Jackson Laboratory",
                    "value": "Jackson Laboratory"
                  }
                ]
              },
              "key": "xnat:subjectData/fields/field[name=strainsource]/field",
              "type": "select",
              "input": true
            },
            {
              "label": "Genetic Modifications",
              "tableView": true,
              "key": "xnat:subjectData/fields/field[name=geneticmodifications]/field",
              "type": "textfield",
              "input": true
            }
          ],
          "width": 6,
          "offset": 0,
          "push": 0,
          "pull": 0,
          "size": "md",
          "currentWidth": 6
        }
      ],
      "key": "columns",
      "type": "columns",
      "input": false,
      "tableView": false
    },
    {
      "title": "Tumor Model",
      "collapsible": false,
      "key": "tumorModel",
      "type": "panel",
      "label": "Panel",
      "input": false,
      "tableView": false,
      "components": [
        {
          "label": "Columns",
          "columns": [
            {
              "components": [
                {
                  "label": "Cell Line",
                  "widget": "choicesjs",
                  "tableView": true,
                  "key": "xnat:subjectData/fields/field[name=cellline]/field",
                  "type": "select",
                  "input": true
                }
              ],
              "width": 6,
              "offset": 0,
              "push": 0,
              "pull": 0,
              "size": "md",
              "currentWidth": 6
            },
            {
              "components": [
                {
                  "label": "PDX",
                  "widget": "choicesjs",
                  "tableView": true,
                  "key": "xnat:subjectData/fields/field[name=pdx]/field",
                  "type": "select",
                  "input": true
                }
              ],
              "size": "md",
              "width": 6,
              "offset": 0,
              "push": 0,
              "pull": 0,
              "currentWidth": 6
            }
          ],
          "key": "columns1",
          "type": "columns",
          "input": false,
          "tableView": false
        },
        {
          "label": "Columns",
          "columns": [
            {
              "components": [
                {
                  "label": "Injection Site",
                  "tableView": true,
                  "key": "xnat:subjectData/fields/field[name=injectionsite]/field",
                  "type": "textfield",
                  "input": true
                },
                {
                  "label": "Injection Type",
                  "widget": "choicesjs",
                  "tableView": true,
                  "data": {
                    "values": [
                      {
                        "label": "Subcutaneous",
                        "value": "subcutaneous"
                      },
                      {
                        "label": "Orthotopic",
                        "value": "orthotopic"
                      }
                    ]
                  },
                  "key": "xnat:subjectData/fields/field[name=injectiontype]/field",
                  "type": "select",
                  "input": true
                },
                {
                  "label": "PDX Passage Number",
                  "tableView": true,
                  "key": "xnat:subjectData/fields/field[name=pdxpassagenumber]/field",
                  "customConditional": "show = !!data.pdx;",
                  "type": "textfield",
                  "input": true
                }
              ],
              "width": 6,
              "offset": 0,
              "push": 0,
              "pull": 0,
              "size": "md",
              "currentWidth": 6
            },
            {
              "components": [
                {
                  "label": "Number of Cells Injected",
                  "mask": false,
                  "tableView": false,
                  "delimiter": true,
                  "requireDecimal": false,
                  "inputFormat": "plain",
                  "truncateMultipleSpaces": false,
                  "key": "xnat:subjectData/fields/field[name=numberofcellsinjected]/field",
                  "type": "number",
                  "input": true
                },
                {
                  "label": "Injection Date",
                  "format": "yyyy-MM-dd",
                  "tableView": false,
                  "enableMinDateInput": false,
                  "datePicker": {
                    "disableWeekends": false,
                    "disableWeekdays": false
                  },
                  "enableMaxDateInput": false,
                  "enableTime": false,
                  "key": "xnat:subjectData/fields/field[name=injectiondate]/field",
                  "type": "datetime",
                  "input": true,
                  "widget": {
                    "type": "calendar",
                    "displayInTimezone": "viewer",
                    "locale": "en",
                    "useLocaleSettings": false,
                    "allowInput": true,
                    "mode": "single",
                    "enableTime": false,
                    "noCalendar": false,
                    "format": "yyyy-MM-dd",
                    "hourIncrement": 1,
                    "minuteIncrement": 1,
                    "time_24hr": false,
                    "minDate": null,
                    "disableWeekends": false,
                    "disableWeekdays": false,
                    "maxDate": null
                  }
                }
              ],
              "width": 6,
              "offset": 0,
              "push": 0,
              "pull": 0,
              "size": "md",
              "currentWidth": 6
            }
          ],
          "key": "columns2",
          "type": "columns",
          "input": false,
          "tableView": false
        }
      ]
    }
  ]
}