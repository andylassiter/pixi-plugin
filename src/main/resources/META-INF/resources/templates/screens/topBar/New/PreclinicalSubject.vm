#* @vtlvariable name="projectString" type="java.lang.String" *#
#* @vtlvariable name="siteConfig" type="org.nrg.xdat.preferences.SiteConfigPreferences" *#
#* @vtlvariable name="data" type="org.apache.turbine.util.RunData" *#
#* @vtlvariable name="link" type="org.apache.turbine.services.pull.tools.TemplateLink" *#
#* @vtlvariable name="displayManager" type="org.nrg.xdat.display.DisplayManager" *#
#* @vtlvariable name="project" type="org.nrg.xdat.om.XnatProjectdata" *#
#* @vtlvariable name="turbineUtils" type="org.nrg.xdat.turbine.utils.TurbineUtils" *#
#* @vtlvariable name="user" type="org.nrg.xdat.security.XDATUser" *#
#* @vtlvariable name="userHelper" type="org.nrg.xdat.security.services.UserHelperServiceI" *#

#if ($userHelper.canCreate("xnat:subjectData"))
    #if($project)
        #if($project.getId())
            #if($userHelper.canCreate("xnat:subjectData/project", $project.getId()))
            <li><a href="$link.setAction("XDATActionRouter").addPathInfo("xdataction","edit").addPathInfo("search_element","xnat:subjectData").addPathInfo("demographics", "pixi:preclinicalDemographicData")/project/$!project.getId()">Preclinical $displayManager.getSingularDisplayNameForSubject()</a></li>
            #end
        #else
            #if($userHelper.canCreate("xnat:subjectData/project", $project))
            <li><a href="$link.setAction("XDATActionRouter").addPathInfo("xdataction","edit").addPathInfo("search_element","xnat:subjectData").addPathInfo("demographics", "pixi:preclinicalDemographicData")$!projectString">Preclinical $displayManager.getSingularDisplayNameForSubject()</a></li>
            #end
        #end
    #else
    <!-- -->
    <li><a href="$link.setAction("XDATActionRouter").addPathInfo("xdataction","edit").addPathInfo("search_element","xnat:subjectData").addPathInfo("demographics", "pixi:preclinicalDemographicData")">Preclinical $displayManager.getSingularDisplayNameForSubject()</a></li>
    <!-- -->
    #end
#end


<!-- -->
